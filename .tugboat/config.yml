services:
  # Configure the webserver to serve the storybook static site.
  apache:
    image: tugboatqa/httpd:latest
    commands:
      init:
        # Set the webroot for Storybook
        - ln -snf "./storybook-static" "${DOCROOT}"

  node:
    # Configure the Node service to run Storybook.
    image: tugboatqa/node:18

    # A set of commands to run while building this service
    commands:
      # Commands that set up the basic preview infrastructure
      init:
        # Install storybook
        - npm install
      build:
        # Build the static storybook site.
        - npm run build-storybook

